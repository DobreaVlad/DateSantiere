@{
    ViewData["Title"] = "DateSantiere - Gaseste santierele tale";
}

<style>
    .hero-animated {
        position: relative;
        overflow: hidden;
        background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7));
    }
    
    .hero-animated::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80') center/cover;
        animation: zoomBackground 20s ease-in-out infinite alternate;
        z-index: -1;
    }
    
    @@keyframes zoomBackground {
        0% {
            transform: scale(1);
        }
        100% {
            transform: scale(1.1);
        }
    }
</style>

<section class="hero hero-animated">
    <div class="container">
        <h1 class="display-4">"Drumul spre succes e întotdeauna în construcție"</h1>
        <p class="lead">Caută mii de șantiere și proiecte din toată țara</p>
        
        <div class="row mt-5 text-center">
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-buildings"></i>
                    </div>
                    <div class="stat-number">@ViewBag.Stats.TotalSantiere</div>
                    <div class="stat-label">Total șantiere</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-calendar-month"></i>
                    </div>
                    <div class="stat-number">@ViewBag.Stats.LastMonth</div>
                    <div class="stat-label">Șantiere în ultima lună</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-clock-history"></i>
                    </div>
                    <div class="stat-number">@ViewBag.Stats.LastWeek</div>
                    <div class="stat-label">Șantiere din ultima săptămână</div>
                </div>
            </div>
        </div>

        <div class="text-center mt-4">
            <a asp-controller="Santiere" asp-action="Index" class="btn btn-primary btn-lg">
                Caută Șantiere
            </a>
        </div>
    </div>
</section>

<section class="services py-5">
    <div class="container">
        <h2 class="text-center mb-5">Servicii</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="service-card">
                    <i class="bi bi-search"></i>
                    <h3>GĂSEȘTE ȘANTIERE</h3>
                    <p>Vezi întreaga listă de șantiere și proiecte</p>
                    <a asp-controller="Santiere" asp-action="Index" class="btn btn-outline-primary">
                        Explorează
                    </a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="service-card">
                    <i class="bi bi-exclamation-triangle"></i>
                    <h3>SOLICITĂRI URGENTE</h3>
                    <p>Cele mai urgente solicitări din țară</p>
                    <a asp-controller="Santiere" asp-action="Index" asp-route-status="Urgent" class="btn btn-outline-primary">
                        Vezi Urgente
                    </a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="service-card">
                    <i class="bi bi-envelope"></i>
                    <h3>NEWSLETTER</h3>
                    <p>Află în timp real cine și unde construiește!</p>
                    <a href="#newsletter" class="btn btn-outline-primary">
                        Abonează-te
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="why-us py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">DE CE NOI?</h2>
        <div class="row g-4">
            <div class="col-md-3">
                <div class="feature-card">
                    <i class="bi bi-graph-up"></i>
                    <h4>Cercetare</h4>
                    <p>Căutăm zilnic prin sute de proiecte pentru a găsi șantierele potrivite. Urmărim un proces riguros de verificare.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-card">
                    <i class="bi bi-trophy"></i>
                    <h4>Experiență</h4>
                    <p>Cu o vechime de peste 6 ani pe piață, vă oferim un complex de peste 109,582 de șantiere.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-card">
                    <i class="bi bi-kanban"></i>
                    <h4>CRM</h4>
                    <p>Platforma este construită ca o unealtă eficientă de lucru pentru orice tip de utilizator.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-card">
                    <i class="bi bi-megaphone"></i>
                    <h4>Promovare</h4>
                    <p>Succesul oricărui business se reflectă în mediul online. Publicul potrivit reprezintă cheia.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="newsletter" class="newsletter py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 text-center">
                <h2>Abonează-te la newsletter</h2>
                <p>Primește cele mai noi șantiere direct în inbox</p>
                <form id="newsletterForm" class="mt-4">
                    <div class="input-group">
                        <input type="email" class="form-control" id="newsletterEmail" placeholder="Email-ul tău" required>
                        <button class="btn btn-primary" type="submit">Abonează-te</button>
                    </div>
                    <div id="newsletterMessage" class="mt-3"></div>
                </form>
            </div>
        </div>
    </div>
</section>

@section Scripts {
<script>
    document.getElementById('newsletterForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const email = document.getElementById('newsletterEmail').value;
        const messageDiv = document.getElementById('newsletterMessage');
        
        try {
            const response = await fetch('@Url.Action("Subscribe", "Home")', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'RequestVerificationToken': document.querySelector('input[name="__RequestVerificationToken"]').value
                },
                body: `email=${encodeURIComponent(email)}`
            });
            
            const result = await response.json();
            messageDiv.className = result.success ? 'alert alert-success' : 'alert alert-danger';
            messageDiv.textContent = result.message;
            
            if (result.success) {
                document.getElementById('newsletterEmail').value = '';
            }
        } catch (error) {
            messageDiv.className = 'alert alert-danger';
            messageDiv.textContent = 'A apărut o eroare. Te rugăm să încerci din nou.';
        }
    });
</script>
}
